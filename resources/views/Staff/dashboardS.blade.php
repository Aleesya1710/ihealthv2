@extends('layouts.layoutS')
@vite(['resources/css/app.css', 'resources/js/app.js'])
<script src="//unpkg.com/alpinejs" defer></script>

@section('content')
<div class="p-6 mx-auto h-auto gap-6">
    <div class="flex m-auto rounded-3xl w-[95%] gap-6 max-h-[46%]">
        <!-- Left Column -->
        <div class="flex flex-col w-[42%] gap-6">
            <div class="bg-gradient-to-br from-green-100 to-white shadow-lg w-full rounded-2xl text-center p-5 flex gap-2">
                <div class="flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0,0,256,256">
                        <g fill="#4ba719" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><g transform="scale(4,4)"><path d="M31,4c-15.98828,0 -29,13.00781 -29,29c0,15.99219 13.01172,29 29,29c15.98828,0 29,-13.00781 29,-29c0,-4.64453 -1.13281,-9.23047 -3.25391,-13.32812l5.96094,-5.96484c0.39063,-0.39062 0.39063,-1.02344 0,-1.41406l-4,-4c-0.39062,-0.39062 -1.02344,-0.39062 -1.41406,0l-5.06641,5.06641c-0.04687,-0.125 -0.11719,-0.24219 -0.21094,-0.34375c-5.53125,-5.8125 -12.99609,-9.01562 -21.01562,-9.01562zM31,6c7.46875,0 14.41797,2.98047 19.5625,8.39453c0.11328,0.11719 0.24609,0.19141 0.38672,0.24219l-2.96484,2.96484c-0.04687,-0.11719 -0.10937,-0.23047 -0.20312,-0.33203c-0.16797,-0.17969 -0.33984,-0.35547 -0.51562,-0.53125c-0.66016,-0.66016 -1.36328,-1.28125 -2.09375,-1.85547c-0.4375,-0.33984 -1.06641,-0.26562 -1.40625,0.16797c-0.33984,0.4375 -0.26562,1.0625 0.17188,1.40234c0.66797,0.52344 1.30859,1.09766 1.91016,1.69922c0.16016,0.16016 0.32031,0.32422 0.47266,0.48828c0.10938,0.11328 0.24219,0.19141 0.38281,0.24609l-15.70312,15.69922l-10.29297,-10.29297c-0.39062,-0.39062 -1.02344,-0.39062 -1.41406,0l-4,4c-0.39062,0.39063 -0.39062,1.02344 0,1.41406l15,15c0.19531,0.19531 0.44922,0.29297 0.70703,0.29297c0.25781,0 0.51172,-0.09766 0.70703,-0.29297l18.98438,-18.98437c0.06641,0.17969 0.12891,0.35938 0.19141,0.54297c0.10156,0.29688 0.19531,0.59766 0.28125,0.90234c0.03516,0.12891 0.08203,0.25781 0.11719,0.38672c0.11719,0.45313 0.22266,0.91016 0.3125,1.36719c0.01563,0.07813 0.02734,0.15625 0.04297,0.23438c0.82031,4.48438 0.14453,9.13672 -1.86719,13.20313c-0.10156,0.20313 -0.20312,0.41016 -0.3125,0.61328c-0.16406,0.30859 -0.33984,0.61719 -0.51953,0.91797c-0.16797,0.27734 -0.34375,0.54297 -0.52344,0.80859c-0.15625,0.23047 -0.30469,0.46875 -0.47266,0.69531c-0.34375,0.47656 -0.70703,0.92969 -1.08984,1.37109c-0.13672,0.15625 -0.28516,0.30469 -0.42578,0.45703c-5.95312,6.44531 -15.58203,8.71875 -24.01953,4.9375c-2.51953,-1.12891 -4.69141,-2.70703 -6.5,-4.58203c-0.25,-0.25781 -0.48437,-0.52734 -0.71875,-0.79687c-0.23828,-0.27344 -0.47656,-0.54687 -0.69922,-0.82812c-0.17187,-0.21875 -0.32812,-0.44531 -0.48828,-0.66797c-0.25781,-0.35156 -0.50781,-0.70312 -0.73828,-1.07031c-0.10547,-0.16406 -0.19922,-0.33594 -0.29687,-0.50391c-0.25391,-0.42578 -0.5,-0.85547 -0.72266,-1.30078c-0.06641,-0.13672 -0.125,-0.27734 -0.19141,-0.41406c-0.22266,-0.46875 -0.4375,-0.94531 -0.625,-1.42969c-0.0625,-0.16016 -0.11328,-0.32812 -0.17187,-0.48828c-0.16016,-0.45703 -0.32031,-0.91797 -0.45312,-1.38672c-0.07031,-0.25 -0.12109,-0.50781 -0.18359,-0.76172c-0.09375,-0.37891 -0.18359,-0.75391 -0.25781,-1.13672c-0.06641,-0.37891 -0.11328,-0.75781 -0.16016,-1.13672c-0.03516,-0.26562 -0.07812,-0.53125 -0.10156,-0.79687c-0.04297,-0.47656 -0.05859,-0.95703 -0.06641,-1.4375c-0.00781,-0.17969 -0.01562,-0.35547 -0.01562,-0.53125c0.00391,-0.51953 0.03516,-1.03516 0.07422,-1.55078c0.01172,-0.15625 0.01563,-0.30859 0.03125,-0.46484c0.05078,-0.48828 0.125,-0.98047 0.21094,-1.46875c0.03125,-0.19141 0.0625,-0.38672 0.10156,-0.57812c0.08203,-0.42578 0.19531,-0.83984 0.30469,-1.26172c0.07422,-0.26562 0.14063,-0.53125 0.22266,-0.79687c0.10547,-0.34766 0.23047,-0.6875 0.35547,-1.02734c0.125,-0.33203 0.25,-0.66797 0.39063,-0.99609c0.14844,-0.35156 0.3125,-0.69531 0.48047,-1.03906c0.10938,-0.22266 0.21875,-0.45312 0.33594,-0.67187c0.22266,-0.41797 0.46875,-0.82422 0.72656,-1.22656c0.08594,-0.14062 0.16406,-0.28516 0.25391,-0.42187c0.35547,-0.53516 0.73828,-1.05469 1.14844,-1.55859c0.09766,-0.125 0.20703,-0.23828 0.30859,-0.35937c0.32422,-0.38281 0.66016,-0.75781 1.01172,-1.125c0.23047,-0.23047 0.46094,-0.46094 0.69922,-0.68359c0.10156,-0.09375 0.20313,-0.19531 0.30859,-0.28906c0.36328,-0.32422 0.73828,-0.63672 1.12109,-0.9375c0.12891,-0.10156 0.26563,-0.19531 0.39844,-0.29297c0.26172,-0.19531 0.53125,-0.38672 0.80078,-0.56641c0.18359,-0.125 0.36719,-0.24609 0.55469,-0.35937c0.23047,-0.14453 0.46484,-0.28125 0.69922,-0.41797c0.41016,-0.23437 0.82813,-0.45703 1.25391,-0.66016c0.15625,-0.07812 0.30859,-0.16016 0.46484,-0.23047c0.29688,-0.13672 0.59375,-0.25781 0.89453,-0.37891c0.125,-0.05078 0.25,-0.09766 0.37891,-0.14844c0.32422,-0.12109 0.65234,-0.24609 0.98438,-0.35156c0.00781,-0.00391 0.01172,-0.00391 0.01953,-0.00391c0.76953,-0.24609 1.55078,-0.45312 2.34375,-0.61328l0.03125,-0.00391c0.37109,-0.07422 0.74609,-0.13672 1.12109,-0.1875c0.07813,-0.01172 0.15625,-0.02344 0.23438,-0.03125c1.05469,-0.14062 2.125,-0.19531 3.19531,-0.17187c0.21484,0.00391 0.42578,0.00781 0.64063,0.01953c0.26172,0.01563 0.52344,0.03125 0.78906,0.05469c0.35547,0.03125 0.71484,0.07813 1.07813,0.12891c0.11719,0.01563 0.23828,0.02734 0.35547,0.04688c0.54688,0.08594 1.05859,-0.28516 1.14453,-0.82812v-0.00391c0.08984,-0.54687 -0.28125,-1.05859 -0.82812,-1.14844c-0.125,-0.01953 -0.25,-0.02344 -0.375,-0.04297c-0.39844,-0.05859 -0.80078,-0.10547 -1.20312,-0.14453c-0.27734,-0.02344 -0.55078,-0.03906 -0.82812,-0.05469c-0.25781,-0.01562 -0.51172,-0.02344 -0.76562,-0.02734c-1.12891,-0.02344 -2.24609,0.03906 -3.34766,0.17578c-0.14844,0.01953 -0.29297,0.03906 -0.4375,0.05859c-0.36719,0.05469 -0.73047,0.11328 -1.09375,0.1875c-0.11328,0.01953 -0.22266,0.04688 -0.33594,0.07031c-0.67187,0.14453 -1.33984,0.3125 -1.99219,0.51563c-0.14453,0.04297 -0.28516,0.08203 -0.42969,0.12891c-0.30078,0.10156 -0.59766,0.21094 -0.89844,0.32031c-0.22266,0.08594 -0.44531,0.17188 -0.66406,0.26172c-0.25781,0.10547 -0.51953,0.21094 -0.77344,0.32813c-0.44531,0.20313 -0.89062,0.41797 -1.32422,0.64844c-0.14453,0.07813 -0.28516,0.16406 -0.42969,0.24219c-0.35156,0.19922 -0.69922,0.40234 -1.03906,0.61719c-0.14844,0.09375 -0.29687,0.19141 -0.44531,0.28906c-0.375,0.25 -0.74219,0.51172 -1.10156,0.78125c-0.08203,0.0625 -0.16797,0.12109 -0.25,0.18359c-0.44922,0.34766 -0.88672,0.71484 -1.3125,1.09766c-0.07031,0.0625 -0.13281,0.125 -0.20312,0.1875c-0.22266,0.20703 -0.44922,0.41406 -0.66797,0.62891c-0.07812,0.07813 -0.14453,0.16406 -0.22266,0.24609c-0.35156,0.36328 -0.69141,0.74609 -1.02344,1.13672c-0.13672,0.15625 -0.28125,0.3125 -0.41016,0.47266c-0.43359,0.53906 -0.84766,1.09766 -1.23437,1.67578c-0.11328,0.17578 -0.21094,0.35156 -0.31641,0.52734c-0.26562,0.42188 -0.52344,0.84375 -0.76172,1.28516c-0.13281,0.25 -0.25391,0.50391 -0.37891,0.75781c-0.12109,0.25 -0.25781,0.49219 -0.375,0.75c-0.08984,0.20313 -0.16797,0.40625 -0.25,0.60938c-0.03516,0.07813 -0.07031,0.15625 -0.10156,0.23828c-0.26172,0.65234 -0.49219,1.3125 -0.69141,1.97656c-0.00781,0.01953 -0.01172,0.03906 -0.01953,0.05859c-0.85547,2.89063 -1.11328,5.84375 -0.83594,8.72266c0.00391,0.00781 0.00391,0.01563 0.00781,0.02344c0.06641,0.69141 0.16406,1.375 0.29297,2.05078c0.01563,0.09375 0.03906,0.1875 0.05859,0.28125c0.11719,0.59766 0.26172,1.18359 0.42969,1.76953c0.04688,0.17188 0.10156,0.33984 0.15234,0.50781c0.16016,0.51563 0.33594,1.02344 0.53125,1.52344c0.08203,0.21484 0.16797,0.42578 0.26172,0.63672c0.19531,0.46875 0.41016,0.92969 0.63672,1.38281c0.10938,0.21484 0.21875,0.42578 0.33594,0.63281c0.25,0.46875 0.52344,0.92188 0.80469,1.37109c0.10938,0.17188 0.21875,0.33984 0.33203,0.50391c0.33594,0.5 0.69141,0.98047 1.06641,1.45313c0.08203,0.10156 0.16016,0.20703 0.24609,0.30859c0.4375,0.53125 0.90234,1.04688 1.39063,1.53906c0.02734,0.02734 0.05078,0.05859 0.07422,0.08594c0.00781,0.00391 0.01563,0.00391 0.01953,0.00781c1.92187,1.92188 4.21094,3.53516 6.83594,4.71094c3.04688,1.36719 6.23438,2.01563 9.375,2.01563c6.07422,0 11.96484,-2.42187 16.28906,-6.73047c0.00391,-0.00391 0.00781,-0.00391 0.00781,-0.00781c0.08203,-0.07812 0.14844,-0.16406 0.22656,-0.24609c0.32031,-0.32422 0.63672,-0.66016 0.9375,-1.01172c0.07031,-0.07812 0.12891,-0.16406 0.19531,-0.24219c0.3125,-0.37109 0.61328,-0.75 0.90234,-1.14062c0.03125,-0.04687 0.0625,-0.08984 0.09375,-0.13672c0.90625,-1.25 1.71094,-2.60547 2.36719,-4.07422c1.92969,-4.30078 2.46484,-9.05859 1.61719,-13.61719c-0.01562,-0.08984 -0.03125,-0.17578 -0.04687,-0.26172c-0.10156,-0.5 -0.21094,-1 -0.34375,-1.49609c-0.03516,-0.14062 -0.08594,-0.27734 -0.125,-0.42187c-0.09766,-0.33203 -0.19922,-0.66797 -0.30859,-1c-0.07422,-0.21094 -0.14844,-0.42187 -0.22656,-0.63281c-0.10156,-0.26953 -0.21094,-0.53516 -0.32031,-0.80078l3.03125,-3.02734c1.78516,3.67188 2.73438,7.73438 2.73438,11.84766c0,14.88672 -12.11328,27 -27,27c-14.88672,0 -27,-12.11328 -27,-27c0,-14.88672 12.11328,-27 27,-27zM58,10.41406l2.58594,2.58594l-29.58594,29.58594l-13.58594,-13.58594l2.58594,-2.58594l10.29297,10.29297c0.39063,0.39063 1.02344,0.39063 1.41406,0zM38.65625,11.38672c-0.38672,0.01563 -0.74609,0.26172 -0.89062,0.64844c-0.19531,0.51953 0.06641,1.09375 0.58594,1.28906c0.71484,0.26563 1.41797,0.57422 2.10156,0.91406c0.14453,0.07422 0.29688,0.10938 0.44922,0.10938c0.36328,0 0.71484,-0.19922 0.89453,-0.55078c0.24609,-0.49219 0.04688,-1.09375 -0.44531,-1.34375c-0.74219,-0.375 -1.51953,-0.71094 -2.30078,-1.00391c-0.12891,-0.04687 -0.26172,-0.06641 -0.39453,-0.0625z"></path></g></g>
                        </svg>
                </div>
                <div class="m-auto">
                    <h2 class="text-lg font-semibold">Appointment Completed Today</h2>
                    <p class="text-2xl">{{ $CompletedAppointment }}</p>
                </div>
            </div>
            <div class="bg-white shadow-lg w-full rounded-2xl text-center p-10">
                <h3 class="text-xl font-bold mb-4">Appointments Trend</h3>
                <canvas id="appointmentByDateChart"></canvas>
            </div>
        </div>

        <!-- Right Column -->
        <div class="flex flex-col w-[58%] gap-6">
            <div class="w-full flex gap-6 text-center">
                <div class="bg-gradient-to-br from-blue-100 to-white shadow-lg w-1/2 rounded-2xl p-14 flex items-center gap-10">
                    <div class="flex items-center">
                         <svg width="100px" height="100px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" id="_x3C_Layer_x3E_" version="1.1" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g id="clock_time" fill="#5440e7" style=""><g fill="#5440e7" style=""><path d="M16,31C7.729,31,1,24.271,1,16c0-3.646,1.323-7.16,3.727-9.895C4.91,5.898,5.226,5.879,5.433,6.06    C5.64,6.242,5.66,6.559,5.479,6.766C3.235,9.317,2,12.597,2,16c0,7.72,6.28,14,14,14s14-6.28,14-14S23.72,2,16,2    c-2.504,0-4.96,0.668-7.103,1.933C8.662,4.07,8.354,3.994,8.213,3.756C8.072,3.519,8.151,3.212,8.39,3.071    C10.686,1.716,13.317,1,16,1c8.271,0,15,6.729,15,15S24.271,31,16,31z" fill="#5440e7" style=""></path></g><g fill="#5440e7" style=""><path d="M16,28.5C9.107,28.5,3.5,22.893,3.5,16S9.107,3.5,16,3.5S28.5,9.107,28.5,16S22.893,28.5,16,28.5z M16,4.5    C9.659,4.5,4.5,9.659,4.5,16S9.659,27.5,16,27.5S27.5,22.341,27.5,16S22.341,4.5,16,4.5z" fill="#5440e7" style=""></path></g><g fill="#5440e7" style=""><g fill="#5440e7" style=""><g fill="#5440e7" style=""><path d="M20.75,8.27c-0.13,0-0.26-0.05-0.351-0.14c-0.1-0.1-0.149-0.23-0.149-0.36s0.05-0.26,0.149-0.35      c0.19-0.19,0.521-0.19,0.7,0c0.101,0.09,0.15,0.22,0.15,0.35S21.2,8.03,21.1,8.12C21.01,8.22,20.88,8.27,20.75,8.27z" fill="#5440e7" style=""></path></g><g fill="#5440e7" style=""><path d="M11.25,24.729c-0.13,0-0.26-0.06-0.351-0.149c-0.1-0.101-0.149-0.23-0.149-0.351      c0-0.13,0.05-0.26,0.14-0.359c0.19-0.181,0.53-0.181,0.71,0c0.101,0.1,0.15,0.229,0.15,0.359c0,0.12-0.05,0.25-0.141,0.351      C11.51,24.67,11.38,24.729,11.25,24.729z" fill="#5440e7" style=""></path></g></g><g fill="#5440e7" style=""><g fill="#5440e7" style=""><path d="M24.229,11.75c-0.13,0-0.26-0.05-0.35-0.141c-0.1-0.1-0.15-0.229-0.15-0.359s0.051-0.26,0.141-0.351      c0.199-0.199,0.529-0.189,0.71,0c0.09,0.091,0.149,0.221,0.149,0.351s-0.05,0.26-0.149,0.35      C24.49,11.7,24.359,11.75,24.229,11.75z" fill="#5440e7" style=""></path></g><g fill="#5440e7" style=""><path d="M7.77,21.25c-0.13,0-0.25-0.05-0.35-0.141C7.319,21,7.27,20.87,7.27,20.75c0-0.13,0.05-0.25,0.141-0.351      c0.22-0.199,0.529-0.189,0.72,0c0.09,0.091,0.14,0.221,0.14,0.351s-0.05,0.26-0.14,0.35C8.03,21.2,7.91,21.25,7.77,21.25z" fill="#5440e7" style=""></path></g></g><g fill="#5440e7" style=""><g fill="#5440e7" style=""><path d="M25.5,16.5c-0.13,0-0.26-0.05-0.351-0.15C25.05,16.26,25,16.13,25,16s0.05-0.26,0.149-0.351      c0.181-0.189,0.511-0.189,0.7-0.01C25.95,15.74,26,15.87,26,16s-0.05,0.26-0.141,0.35C25.76,16.45,25.63,16.5,25.5,16.5z" fill="#5440e7" style=""></path></g><g fill="#5440e7" style=""><path d="M6.5,16.5c-0.13,0-0.26-0.05-0.351-0.15C6.05,16.26,6,16.13,6,16s0.05-0.26,0.149-0.351      c0.181-0.189,0.511-0.189,0.7-0.01C6.95,15.74,7,15.87,7,16s-0.05,0.26-0.141,0.35C6.76,16.45,6.63,16.5,6.5,16.5z" fill="#5440e7" style=""></path></g></g><g fill="#5440e7" style=""><g fill="#5440e7" style=""><path d="M24.229,21.25c-0.13,0-0.26-0.05-0.359-0.141c-0.09-0.1-0.141-0.229-0.141-0.359s0.051-0.26,0.141-0.351      c0.199-0.199,0.529-0.189,0.71,0c0.09,0.091,0.149,0.221,0.149,0.351s-0.05,0.26-0.149,0.35      C24.49,21.2,24.359,21.25,24.229,21.25z" fill="#5440e7" style=""></path></g><g fill="#5440e7" style=""><path d="M7.77,11.75c-0.13,0-0.25-0.05-0.35-0.141C7.319,11.5,7.27,11.37,7.27,11.25      c0-0.13,0.05-0.25,0.141-0.351c0.22-0.199,0.529-0.189,0.72,0c0.09,0.091,0.14,0.221,0.14,0.351s-0.05,0.26-0.14,0.35      C8.03,11.7,7.899,11.75,7.77,11.75z" fill="#5440e7" style=""></path></g></g><g fill="#5440e7" style=""><g fill="#5440e7" style=""><path d="M20.75,24.729c-0.13,0-0.26-0.05-0.351-0.14c-0.1-0.11-0.149-0.23-0.149-0.36s0.05-0.26,0.14-0.359      c0.2-0.19,0.521-0.181,0.71,0c0.101,0.1,0.15,0.229,0.15,0.359c0,0.12-0.05,0.25-0.141,0.351      C21.01,24.68,20.88,24.729,20.75,24.729z" fill="#5440e7" style=""></path></g><g fill="#5440e7" style=""><path d="M11.25,8.27c-0.13,0-0.26-0.05-0.351-0.149C10.8,8.03,10.75,7.899,10.75,7.77s0.05-0.26,0.149-0.35      c0.181-0.19,0.511-0.19,0.7-0.01c0.101,0.1,0.15,0.229,0.15,0.359S11.7,8.03,11.6,8.12C11.5,8.22,11.38,8.27,11.25,8.27z" fill="#5440e7" style=""></path></g></g><g fill="#5440e7" style=""><g fill="#5440e7" style=""><path d="M16,26c-0.13,0-0.25-0.05-0.351-0.141C15.55,25.75,15.5,25.63,15.5,25.5s0.05-0.26,0.14-0.351      c0.21-0.199,0.53-0.189,0.71,0C16.45,25.24,16.5,25.37,16.5,25.5s-0.05,0.26-0.15,0.35C16.26,25.95,16.13,26,16,26z" fill="#5440e7" style=""></path></g><g fill="#5440e7" style=""><path d="M16,7c-0.13,0-0.25-0.05-0.351-0.141C15.55,6.76,15.5,6.63,15.5,6.5c0-0.141,0.05-0.26,0.14-0.351      c0.21-0.199,0.53-0.189,0.71,0C16.45,6.24,16.5,6.37,16.5,6.5s-0.05,0.26-0.141,0.35C16.26,6.95,16.13,7,16,7z" fill="#5440e7" style=""></path></g></g></g><g fill="#5440e7" style=""><g fill="#5440e7" style=""><path d="M22.364,9.636c-0.195-0.195-0.512-0.195-0.707,0l-5.413,5.413c0.351,0.091,0.616,0.356,0.707,0.707     l5.413-5.413C22.56,10.147,22.56,9.831,22.364,9.636z" fill="#5440e7" style=""></path><path d="M15.756,15.049l-6.12-6.12c-0.195-0.195-0.512-0.195-0.707,0s-0.195,0.512,0,0.707l6.12,6.12     C15.14,15.405,15.405,15.14,15.756,15.049z" fill="#5440e7" style=""></path></g><path d="M16,17.5c-0.827,0-1.5-0.673-1.5-1.5s0.673-1.5,1.5-1.5s1.5,0.673,1.5,1.5S16.827,17.5,16,17.5z M16,15.5    c-0.275,0-0.5,0.225-0.5,0.5s0.225,0.5,0.5,0.5s0.5-0.225,0.5-0.5S16.275,15.5,16,15.5z" fill="#5440e7" style=""></path></g><g fill="#5440e7" style=""><g fill="#5440e7" style=""><g fill="#5440e7" style=""><g fill="#5440e7" style=""><g fill="#5440e7" style=""><g fill="#5440e7" style=""><g fill="#5440e7" style=""><path d="M7.5,4.5C7.5,4.775,7.275,5,7,5l0,0C6.725,5,6.5,4.775,6.5,4.5l0,0C6.5,4.225,6.725,4,7,4l0,0          C7.275,4,7.5,4.225,7.5,4.5L7.5,4.5z" fill="#5440e7" style=""></path></g></g></g></g></g></g></g></g>
                    </svg>
                    </div>
                    <div>
                        <h2 class="text-lg font-semibold">Upcoming</h2>
                        <p class="text-2xl">{{ $UpcomingAppointment }}</p>
                    </div>   
                </div>
                <div class="bg-gradient-to-br from-red-100 to-white shadow-lg w-1/2 rounded-2xl p-14 flex items-center gap-10">
                    <div class="flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0,0,256,256">
                        <g fill="#dd300b" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><g transform="scale(3.2,3.2)"><path d="M40,7c-18.21484,0 -33,14.78516 -33,33c0,18.21484 14.78516,33 33,33c18.21484,0 33,-14.78516 33,-33c0,-18.21484 -14.78516,-33 -33,-33zM40,9c17.13281,0 31,13.86719 31,31c0,17.13281 -13.86719,31 -31,31c-17.13281,0 -31,-13.86719 -31,-31c0,-17.13281 13.86719,-31 31,-31zM40,12c-0.55078,0 -1,0.44922 -1,1c0,0.55078 0.44922,1 1,1c0.55078,0 1,-0.44922 1,-1c0,-0.55078 -0.44922,-1 -1,-1zM45.29297,12.51563c-0.48828,-0.01172 -0.91016,0.32813 -1.00781,0.80859c-0.10547,0.53906 0.24609,1.06641 0.78906,1.17578c0.53906,0.10547 1.06641,-0.24609 1.17578,-0.78516c0.10547,-0.54297 -0.24609,-1.07031 -0.78516,-1.17969c-0.05859,-0.00781 -0.11328,-0.01562 -0.17187,-0.01953zM34.73828,12.51953c-0.06641,0 -0.13281,0.00391 -0.19922,0.01563c-0.54297,0.10938 -0.89453,0.63672 -0.78516,1.17969c0.05078,0.25781 0.20313,0.48828 0.42578,0.63672c0.21875,0.14453 0.48828,0.19922 0.75,0.14844c0.54297,-0.10937 0.89453,-0.63281 0.78516,-1.17578c-0.09375,-0.46484 -0.5,-0.80078 -0.97656,-0.80469zM29.67578,14.05469c-0.13281,0 -0.26562,0.02344 -0.39062,0.07422c-0.51172,0.21484 -0.75391,0.79688 -0.53906,1.30859c0.21094,0.51172 0.79297,0.75391 1.30469,0.54297c0.51172,-0.21484 0.75391,-0.79687 0.54297,-1.30859c-0.15625,-0.37109 -0.51562,-0.61328 -0.91797,-0.61719zM50.35547,14.05469c-0.41406,-0.00781 -0.78906,0.23438 -0.94922,0.61719c-0.21094,0.51172 0.03125,1.09375 0.54297,1.30859c0.51172,0.21094 1.09375,-0.03125 1.30469,-0.54297c0.21484,-0.51172 -0.02734,-1.09375 -0.53906,-1.30859c-0.11328,-0.04687 -0.23828,-0.07031 -0.35937,-0.07422zM25.01172,16.54688c-0.20312,0 -0.40234,0.05859 -0.57031,0.17188c-0.45703,0.30469 -0.58203,0.92578 -0.27344,1.38672c0.30469,0.45703 0.92578,0.58203 1.38672,0.27344c0.46094,-0.30469 0.58203,-0.92578 0.27734,-1.38281c-0.18359,-0.27734 -0.49219,-0.44531 -0.82031,-0.44922zM55.01563,16.54688c-0.33984,-0.00391 -0.66016,0.16406 -0.84766,0.44922c-0.30859,0.45703 -0.18359,1.07813 0.27344,1.38281c0.46094,0.30859 1.08203,0.18359 1.38672,-0.27344c0.14844,-0.21875 0.20313,-0.49219 0.15234,-0.75c-0.05078,-0.26172 -0.20312,-0.49219 -0.42578,-0.63672c-0.16016,-0.10937 -0.34375,-0.16797 -0.53906,-0.17187zM20.92188,19.90625c-0.26953,0 -0.53125,0.10547 -0.71875,0.29688c-0.39062,0.38672 -0.39062,1.02344 0,1.41016c0.38672,0.39063 1.02344,0.39063 1.41016,0c0.39063,-0.38672 0.39063,-1.02344 0,-1.41016c-0.18359,-0.1875 -0.42969,-0.29297 -0.69141,-0.29687zM59.10547,19.90625c-0.26953,0 -0.53125,0.10547 -0.71875,0.29688c-0.39062,0.38672 -0.39062,1.02344 0,1.41016c0.38672,0.39063 1.02344,0.39063 1.41016,0c0.39063,-0.38672 0.39063,-1.02344 0,-1.41016c-0.18359,-0.1875 -0.42969,-0.29297 -0.69141,-0.29687zM62.46094,24c-0.20312,-0.00391 -0.39844,0.05469 -0.56641,0.16797c-0.45703,0.30469 -0.58203,0.92578 -0.27344,1.38281c0.30469,0.46094 0.92578,0.58594 1.38281,0.27734c0.46094,-0.30859 0.58594,-0.92578 0.27734,-1.38672c-0.18359,-0.27344 -0.49219,-0.44141 -0.82031,-0.44141zM17.56641,24c-0.33984,-0.00781 -0.66016,0.16016 -0.84766,0.44141c-0.30469,0.46094 -0.18359,1.08203 0.27734,1.38672c0.46094,0.30859 1.07813,0.18359 1.38672,-0.27344c0.30469,-0.46094 0.18359,-1.08203 -0.27734,-1.38672c-0.16016,-0.10547 -0.34375,-0.16406 -0.53906,-0.16797zM31.51563,25.85938l-5.65625,5.65625l8.48438,8.48438l-8.48437,8.48438l5.65625,5.65625l8.48438,-8.48437l8.48438,8.48438l5.65625,-5.65625l-8.48437,-8.48437l8.48438,-8.48437l-0.70312,-0.70703l-4.95312,-4.94922l-8.48437,8.48438zM64.95313,28.66797c-0.13281,-0.00391 -0.26562,0.02344 -0.39062,0.07422c-0.51172,0.21094 -0.75391,0.79688 -0.54297,1.30469c0.21484,0.51172 0.79688,0.75391 1.30859,0.54297c0.51172,-0.21094 0.75391,-0.79687 0.54297,-1.30859c-0.15625,-0.36719 -0.51562,-0.61328 -0.91797,-0.61328zM15.07813,28.66797c-0.41406,-0.00781 -0.78906,0.23438 -0.94531,0.61719c-0.21094,0.51172 0.03125,1.09375 0.53906,1.30859c0.51172,0.21094 1.09766,-0.03125 1.30859,-0.54297c0.21094,-0.51172 -0.03125,-1.09375 -0.54297,-1.30469c-0.11328,-0.05078 -0.23437,-0.07422 -0.35937,-0.07812zM31.51563,28.6875l8.48438,8.48438l8.48438,-8.48437l2.82813,2.82813l-8.48437,8.48438l8.48438,8.48438l-2.82812,2.82813l-8.48437,-8.48437l-8.48437,8.48438l-2.82812,-2.82812l8.48438,-8.48437l-8.48437,-8.48437zM66.48438,33.73438c-0.06641,-0.00391 -0.13281,0.00391 -0.19922,0.01563c-0.53906,0.10938 -0.89062,0.63672 -0.78516,1.17578c0.10938,0.54297 0.63672,0.89453 1.17578,0.78906c0.54297,-0.10937 0.89453,-0.63672 0.78906,-1.17969c-0.09375,-0.46484 -0.50391,-0.80078 -0.98047,-0.80078zM13.54688,33.73438c-0.48828,-0.01172 -0.91016,0.32422 -1.00781,0.80078c-0.05078,0.26172 0,0.53516 0.14844,0.75391c0.14844,0.22266 0.37891,0.375 0.64063,0.42578c0.25781,0.05078 0.52734,-0.00391 0.75,-0.14844c0.21875,-0.14844 0.37109,-0.37891 0.42188,-0.64062c0.10938,-0.53906 -0.24219,-1.06641 -0.78125,-1.17578c-0.05859,-0.00781 -0.11328,-0.01562 -0.17187,-0.01562zM13,39c-0.55078,0 -1,0.44922 -1,1c0,0.55078 0.44922,1 1,1c0.55078,0 1,-0.44922 1,-1c0,-0.55078 -0.44922,-1 -1,-1zM67,39c-0.55078,0 -1,0.44922 -1,1c0,0.55078 0.44922,1 1,1c0.55078,0 1,-0.44922 1,-1c0,-0.55078 -0.44922,-1 -1,-1zM13.52344,44.26563c-0.06641,0 -0.13281,0.00781 -0.19922,0.01953c-0.54297,0.10938 -0.89453,0.63672 -0.78516,1.17969c0.10938,0.53906 0.63281,0.89063 1.17578,0.78516c0.54297,-0.10937 0.89453,-0.63672 0.78516,-1.17578c-0.09375,-0.46875 -0.5,-0.80469 -0.97656,-0.80859zM66.50781,44.26563c-0.48828,-0.01172 -0.91016,0.32813 -1.00781,0.80859c-0.10547,0.53906 0.24609,1.06641 0.78516,1.17578c0.54297,0.10547 1.07031,-0.24609 1.17969,-0.78516c0.10547,-0.54297 -0.24609,-1.07031 -0.78906,-1.17969c-0.05469,-0.00781 -0.10937,-0.01562 -0.16797,-0.01953zM64.96875,49.32813c-0.41406,-0.00781 -0.78906,0.23828 -0.94922,0.62109c-0.21094,0.50781 0.03125,1.09375 0.54297,1.30469c0.51172,0.21094 1.09375,-0.03125 1.30859,-0.53906c0.21094,-0.51172 -0.03125,-1.09766 -0.54297,-1.30859c-0.11328,-0.04687 -0.23828,-0.07422 -0.35937,-0.07812zM15.0625,49.33203c-0.13281,0 -0.26562,0.02344 -0.39062,0.07422c-0.24219,0.10156 -0.4375,0.29688 -0.53906,0.54297c-0.10156,0.24609 -0.10156,0.51953 -0.00391,0.76563c0.21484,0.51172 0.79688,0.75391 1.30859,0.53906c0.24609,-0.09766 0.44141,-0.29297 0.54297,-0.53906c0.10156,-0.24609 0.10156,-0.51953 0,-0.76562c-0.15234,-0.37109 -0.51562,-0.61328 -0.91797,-0.61719zM62.46875,54c-0.33984,-0.00781 -0.66016,0.16016 -0.84766,0.44141c-0.30859,0.46094 -0.18359,1.07813 0.27344,1.38672c0.21875,0.14844 0.49219,0.20313 0.75,0.14844c0.26172,-0.05078 0.49219,-0.20312 0.63672,-0.42578c0.30859,-0.45703 0.18359,-1.07812 -0.27734,-1.38281c-0.15625,-0.10937 -0.34375,-0.16797 -0.53516,-0.16797zM17.5625,54c-0.20312,-0.00391 -0.39844,0.05469 -0.56641,0.16797c-0.45703,0.30859 -0.58203,0.92578 -0.27734,1.38672c0.30859,0.45703 0.92969,0.58203 1.39063,0.27344c0.45703,-0.30469 0.58203,-0.92578 0.27344,-1.38672c-0.18359,-0.27344 -0.49219,-0.4375 -0.82031,-0.44141zM20.92188,58.09375c-0.26953,-0.00391 -0.53125,0.10156 -0.71875,0.29297c-0.39062,0.38672 -0.39062,1.02344 0,1.41016c0.38672,0.39063 1.02344,0.39063 1.41016,0c0.39063,-0.38672 0.39063,-1.02344 0,-1.41016c-0.18359,-0.1875 -0.42969,-0.29297 -0.69141,-0.29297zM59.10547,58.09375c-0.26953,-0.00391 -0.53125,0.10156 -0.71875,0.29297c-0.39062,0.38672 -0.39062,1.02344 0,1.41016c0.38672,0.39063 1.02344,0.39063 1.41016,0c0.39063,-0.38672 0.39063,-1.02344 0,-1.41016c-0.18359,-0.1875 -0.42969,-0.29297 -0.69141,-0.29297zM25.01953,61.44922c-0.33984,-0.00781 -0.66016,0.16016 -0.84766,0.44141c-0.30859,0.46094 -0.18359,1.08203 0.27734,1.39063c0.45703,0.30469 1.07813,0.17969 1.38281,-0.27734c0.30859,-0.46094 0.18359,-1.07812 -0.27344,-1.38672c-0.16016,-0.10547 -0.34766,-0.16797 -0.53906,-0.16797zM55.01172,61.44922c-0.20312,-0.00391 -0.39844,0.05469 -0.56641,0.16406c-0.22266,0.14844 -0.375,0.37891 -0.42578,0.64063c-0.05078,0.25781 0.00391,0.53125 0.15234,0.75c0.30469,0.45703 0.92578,0.58203 1.38672,0.27734c0.45703,-0.30859 0.58203,-0.92969 0.27344,-1.39062c-0.17969,-0.27344 -0.48828,-0.44141 -0.82031,-0.44141zM29.69141,63.94141c-0.41406,-0.00781 -0.78906,0.23828 -0.94531,0.62109c-0.21094,0.50781 0.03125,1.09375 0.53906,1.30469c0.51172,0.21094 1.09766,-0.03125 1.30859,-0.53906c0.21094,-0.51172 -0.03125,-1.09766 -0.54297,-1.30859c-0.11328,-0.04687 -0.23437,-0.07422 -0.35937,-0.07812zM50.33984,63.94141c-0.13281,0 -0.26562,0.02734 -0.38672,0.07813c-0.24609,0.10156 -0.44141,0.29688 -0.54297,0.53906c-0.10156,0.24609 -0.10156,0.52344 -0.00391,0.76953c0.21484,0.50781 0.79688,0.75 1.30859,0.53906c0.24609,-0.10156 0.44141,-0.29687 0.54297,-0.53906c0.10156,-0.24609 0.10156,-0.52344 0,-0.76562c-0.15234,-0.375 -0.51562,-0.61719 -0.91797,-0.62109zM34.76172,65.48047c-0.48828,-0.01172 -0.91406,0.32813 -1.00781,0.80469c-0.10937,0.54297 0.24219,1.06641 0.78516,1.17578c0.54297,0.10938 1.06641,-0.24219 1.17578,-0.78516c0.10938,-0.54297 -0.24219,-1.06641 -0.78516,-1.17578c-0.05469,-0.01172 -0.11328,-0.01953 -0.16797,-0.01953zM45.26953,65.48438c-0.06641,-0.00391 -0.13281,0.00391 -0.19531,0.01563c-0.54297,0.10938 -0.89453,0.63281 -0.78906,1.17578c0.05469,0.26172 0.20703,0.48828 0.42578,0.63672c0.22266,0.14844 0.49219,0.20313 0.75391,0.15234c0.25781,-0.05469 0.48828,-0.20703 0.63672,-0.42578c0.14453,-0.22266 0.19922,-0.49219 0.14844,-0.75391c-0.09375,-0.46484 -0.50391,-0.80078 -0.98047,-0.80078zM40,66c-0.55078,0 -1,0.44922 -1,1c0,0.55078 0.44922,1 1,1c0.55078,0 1,-0.44922 1,-1c0,-0.55078 -0.44922,-1 -1,-1z"></path></g></g>
                        </svg>
                    </div>
                    <div>
                        <h2 class="text-lg font-semibold">Cancelled</h2>
                    <p class="text-2xl">{{ $CancelledAppointment }}</p>
                    </div>
                    
                    
                </div>
            </div>
            <div class="bg-[#C5DEE4] shadow-lg flex w-full rounded-2xl h-full ">
                 <div class="w-1/2 p-10 text-center">
                    <h3 class="text-xl mx-auto font-bold ">Feedback Rating</h3>
                    <div id="customLegend" class="flex flex-col justify-center  mt-8 text-sm font-medium"></div>
                 </div>
                <div class="w-[36.6%] flex items-center p-2">
                    <canvas id="feedbackRatingChart"></canvas>
                </div>
            </div>
        </div>
    </div>

    <!-- Feedback Section -->
    <div x-data='{ activeSlide: 0, feedbacks: @json($feedback->map(fn($f) => ["name" => $f->user->name ?? "Anonymous", "text" => $f->message ?? "No message"])), autoSlide() { setInterval(() => { this.activeSlide = (this.activeSlide + 1) % this.feedbacks.length; }, 4000); }, init() { this.autoSlide(); } }'
         x-init="init()"
         class="bg-[#C5DEE4] m-auto mt-6 py-2 px-6 w-[95%] shadow-lg rounded-2xl relative">
        <div class="flex items-center mb-6">
            <img src="{{ asset('image/quote-left.png') }}" alt="quote left" class="w-14 h-14 opacity-70 mr-3" />
            <h3 class="text-xl font-bold mt-6 text-gray-800">Customer Feedback</h3>
        </div>
        <div class="relative min-h-[100px] overflow-hidden">
            <template x-for="(item, index) in feedbacks" :key="index">
                <div x-show="activeSlide === index" x-transition class="absolute inset-0 flex items-start space-x-4 w-full">
                    <img src="{{ asset('image/profile.jpg') }}" class="w-14 h-14 rounded-full bg-gray-300" alt="User Profile" />
                    <div class="text-black">
                        <p class="text-lg font-medium leading-relaxed" x-text="item.text"></p>
                        <p class="text-sm font-light italic mt-1" x-text="'~ ' + item.name"></p>
                    </div>
                </div>
            </template>
        </div>
        <div class="absolute bottom-4 right-6">
            <img src="{{ asset('image/quote-right.png') }}" alt="quote right" class="w-14 h-14 opacity-70" />
        </div>
    </div>

    <!-- Today's Appointments Table -->
    <div class="m-auto bg-white rounded-3xl w-[95%] mt-6 p-6">
        <div class="p-6 rounded-xl shadow-lg">
            <h3 class="text-2xl font-bold mb-6 text-gray-800">Today's Appointments</h3>
            <div class="overflow-x-auto">
                <table class="w-full text-sm md:text-base table-auto border-separate border-spacing-y-3 text-center">
                    <thead class="bg-gray-200 text-[#10859F] font-semibold">
                        <tr>
                            <th class="py-3 px-4">Patient</th>
                            <th class="px-4">Time</th>
                            <th class="px-4">Service</th>
                            <th class="px-4">Staff</th>
                            <th class="px-4">Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        @if($AppointmentsToday->count())
                            @foreach($AppointmentsToday as $app)
                                <tr class="bg-white hover:bg-gray-50 shadow-sm rounded-lg">
                                    <td class="py-3 px-4 font-medium text-gray-800">
                                        @if($app->user->patient)
                                            <a href="{{ route('patientRecord', ['id' => $app->user->patient->user_id]) }}" class="hover:text-blue-500">
                                                {{ $app->user->patient->name }}
                                            </a>
                                        @else - @endif
                                    </td>
                                    <td class="px-4">{{ $app->time ?? '-' }}</td>
                                    <td class="px-4">{{ $app->service->name ?? '-' }}</td>
                                    <td class="px-4">{{ $app->staff->name ?? '-' }}</td>
                                    <td class="px-4">
                                        @php
                                            $status = ucfirst($app->status);
                                            $statusClasses = [
                                                'Completed' => 'bg-green-200 text-green-800',
                                                'Upcoming' => 'bg-blue-200 text-blue-800',
                                                'Cancelled' => 'bg-red-200 text-red-800',
                                            ];
                                        @endphp
                                        <span class="inline-block px-4 py-1 rounded-full text-xs font-semibold {{ $statusClasses[$status] ?? 'bg-gray-200 text-gray-700' }}">
                                            {{ $status }}
                                        </span>
                                    </td>
                                </tr>
                            @endforeach
                        @else
                            <tr>
                                <td colspan="5" class="py-6 text-gray-500 italic">No appointments for today.</td>
                            </tr>
                        @endif
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
const dateCtx = document.getElementById('appointmentByDateChart').getContext('2d');
new Chart(dateCtx, {
    type: 'line',
    data: {
        labels: {!! json_encode($totalAppointmentsByDate->pluck('appointment_date')->map(fn($d) => \Carbon\Carbon::parse($d)->format('d M'))) !!},
        datasets: [{
            label: 'Appointments',
            data: {!! json_encode($totalAppointmentsByDate->pluck('total')) !!},
            backgroundColor: 'rgba(75, 192, 192, 0.3)',
            fill: true,
            tension: 0.4
        }]
    },
    options: {
        responsive: true,
        plugins: { legend: { display: false } },
        scales: { x: { grid: { display: false } }, y: { grid: { display: false } } }
    }
});

const ratingCtx = document.getElementById('feedbackRatingChart').getContext('2d');
const chart = new Chart(ratingCtx, {
    type: 'polarArea',
    data: {
        labels: {!! json_encode($feedbackByRating->pluck('rating')->map(fn($r) => "$r Star")) !!},
        datasets: [{
            label: 'total',
            data: {!! json_encode($feedbackByRating->pluck('total')) !!},
            backgroundColor: ['#F48FB1', '#FFAB91', '#CE93D8', '#FFE082', '#BCAAA4'],
            borderWidth: 0
        }]
    },
    options: {
        responsive: true,
        plugins: {
            legend: { display: false },
            tooltip: { enabled: true }
        },
        scales: {
            r: {
                ticks: { display: false, precision: 0 },
                grid: { display: false },
                angleLines: { display: false },
                pointLabels: { display: false }
            }
        }
    }
});

// ðŸ”½ Manually create legend below title
const legendContainer = document.getElementById('customLegend');
const labels = chart.data.labels;
const colors = chart.data.datasets[0].backgroundColor;

labels.forEach((label, i) => {
    const legendItem = document.createElement('div');
    legendItem.className = 'flex items-center justify-center gap-3 mt-3';

    const box = document.createElement('div');
    box.className = 'w-4 h-4 rounded-full';
    box.style.backgroundColor = colors[i];

    const text = document.createElement('span');
    text.textContent = label;

    legendItem.appendChild(box);
    legendItem.appendChild(text);
    legendContainer.appendChild(legendItem);
});

</script>
@endsection
